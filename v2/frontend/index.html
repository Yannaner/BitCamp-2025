<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NYC Quantum Bike Rental Simulation</title>
  <link rel="stylesheet" href="./src/style.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
</head>
<body>
  <div id="app">
    <header>
      <h1>🚲 NYC Quantum Bike Rental Simulation</h1>
      <div class="controls">
        <div class="control-group">
          <label for="simulation-mode">Simulation Mode:</label>
          <div class="custom-select">
            <select id="simulation-mode">
              <option value="quantum" selected>⚛️ Quantum</option>
              <option value="classical">🧮 Classical</option>
            </select>
          </div>
        </div>
        
        <div class="control-group">
          <label for="weather-select">Weather:</label>
          <div class="custom-select">
            <select id="weather-select">
              <option value="sunny" selected>☀️ Sunny</option>
              <option value="cloudy">☁️ Cloudy</option>
              <option value="rainy">🌧️ Rainy</option>
              <option value="snowy">❄️ Snowy</option>
              <option value="stormy">⛈️ Stormy</option>
            </select>
          </div>
        </div>
        
        <div class="control-group">
          <div class="time-display">
            <span class="time-icon">🕒</span>
            <span id="time-display">08:00</span>
          </div>
          <button id="advance-time" class="advance-time">
            <span class="emoji">⏭️</span> +1 Hour
          </button>
        </div>
        
        <button id="run-step"><span class="emoji">▶️</span> Run Single Step</button>
        <button id="simulate-day" class="simulate"><span class="emoji">📅</span> Simulate Full Day</button>
        <button id="reset-simulation" class="reset"><span class="emoji">🔄</span> Reset Simulation</button>
        <!-- New Explanation Button -->
        <button id="fetch-explanations" class="fetch-btn">
          <span class="emoji">💡</span> Show Explanations
        </button>
      </div>
    </header>
    
    <main>
      <div class="dashboard">
        <div class="stats-panel simulation-panel">
          <h2>📊 Simulation Statistics</h2>
          <div id="stats-container">
            <div class="stat-item">
              <span class="stat-label">📍 Total Stations:</span>
              <span id="total-stations" class="stat-value">15</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">🚲 Total Bikes:</span>
              <span id="total-bikes" class="stat-value">150</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">🌤️ Current Weather:</span>
              <span id="current-weather" class="stat-value weather-display">☀️ Sunny</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">🕒 Current Time:</span>
              <span id="current-time" class="stat-value">08:00</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">🔄 System Activity:</span>
              <span id="activity-indicator" class="status-indicator idle">Idle</span>
            </div>
            <div class="stat-item highlight-stat">
              <span class="stat-label">⚡ System Efficiency:</span>
              <span id="system-efficiency" class="efficiency medium">95%</span>
            </div>
          </div>
          <div class="simulation-description">
            <p style="margin-top: 20px; font-style: italic; font-size: 0.9em;">
              This simulation represents New York City's bike sharing network using 
              <span class="quantum-badge">⚛️ QUANTUM COMPUTING</span> for accurate movement prediction.
            </p>
          </div>
        </div>
        
        <div class="visualization-panel simulation-panel">
          <h2>🗺️ NYC Station Map</h2>
          <div id="map-container"></div>
        </div>
      </div>
      
      <div class="station-list simulation-panel">
        <h2>🚲 NYC Bike Station Status</h2>
        <div id="stations-container"></div>
      </div>
      
      <div class="charts">
        <div class="chart-container simulation-panel">
          <h2>📊 Bike Distribution</h2>
          <div class="chart-info">Current distribution of bikes across all stations in NYC</div>
          <canvas id="distribution-chart"></canvas>
        </div>
        
        <div class="chart-container simulation-panel">
          <h2>📈 Usage Over Time</h2>
          <div class="chart-info">
            Dashed line: Expected activity level based on time of day
          </div>
          <canvas id="usage-chart"></canvas>
        </div>
      </div>
      
      <!-- Fixed Explanations Section -->
      <div id="explanations-container" class="simulation-panel simulation-explanations">
        <div class="explanations-header">
          <h2>Simulation Insights</h2>
        </div>
        
        <div class="explanations-content">
          <div class="explanation-tabs">
            <div class="explanation-tab technical-icon active" data-tab="technical">Technical Analysis</div>
            <div class="explanation-tab non-technical-icon" data-tab="non-technical">Simple Explanation</div>
          </div>
          
          <div id="technical-tab" class="tab-content technical-tab active">
            <div id="technical-explanation">Click the "Show Explanations" button to generate analysis.</div>
          </div>
          
          <div id="non-technical-tab" class="tab-content non-technical-tab">
            <div id="non-technical-explanation">Click the "Show Explanations" button to generate analysis.</div>
          </div>
        </div>
      </div>
    </main>
    
    <div id="loading-overlay" class="hidden">
      <div class="spinner"></div>
      <p>⚛️ Running quantum simulation...</p>
    </div>
  </div>
  
  <script type="module" src="/src/main.js"></script>
</body>
</html>